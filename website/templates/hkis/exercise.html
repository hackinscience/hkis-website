{% extends "hkis/layout.html" %}
{% load i18n %}
{% load static %}{% load md2 %}{% load bootstrap4 %}
{% block body %}
{{ answer_form.media }}
<div class="container">
  <a href="{% url "exercises" %}">
    Back
  </a>

  {{ object.wording|markdown:"fenced-code-blocks" }}

  <hr>
  <div class="row">
    <div class="col-md-8">
      <h2>Your Code</h2>
      <form action="{% url "answer-create" %}" method="post">{% csrf_token %}
          {% for field in answer_form %}
          <div class="fieldWrapper">
              {{ field }}
          </div>
          {% endfor %}
          <button class="btn btn-primary" type="submit">Submit your code</button>
      </form>
    </div>
    <div class="col-md-4">
      <h2>Results</h2>
      <div class="result">
        <table  class="table">
          {% for answer in object.answers.all %}
          {% if not answer.is_corrected %}
          <tr>
            <td><img src="{% static "img/loading_anim.gif" %}" height=30> Waiting for correction</td>
          </tr>
          {% else %}
          <tr>
            <td><pre>{{ answer.correction_message }}</pre></td>
          </tr>
          {% endif %}
          {% endfor %}
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
